<h1>SDLStreamingMediaManager Class Reference</h1>

<h3>Section Contents</h3>

<ul>
  <li><a href="#section-videoSessionConnected">videoSessionConnected</a></li>
  <li><a href="#section-audioSessionConnected">audioSessionConnected</a></li>
  <li><a href="#section-videoSessionEncrypted">videoSessionEncrypted</a></li>
  <li><a href="#section-audioSessionEncrypted">audioSessionEncrypted</a></li>
  <li><a href="#section-touchManager">touchManager</a></li>
  <li><a href="#section-videoEncoderSettings">videoEncoderSettings</a></li>
  <li><a href="#section-displayCapabilties">displayCapabilties</a></li>
  <li><a href="#section-defaultVideoEncoderSettings">defaultVideoEncoderSettings</a></li>
  <li><a href="#section-screenSize">screenSize</a></li>
  <li><a href="#section-pixelBufferPool">pixelBufferPool</a></li>
  <li><a href="#section--initWithProtocol:">-initWithProtocol:</a></li>
  <li><a href="#section--initWithProtocol:displayCapabilities:">-initWithProtocol:displayCapabilities:</a></li>
  <li><a href="#section--startVideoSessionWithStartBlock:">-startVideoSessionWithStartBlock:</a></li>
  <li><a href="#section--startVideoSessionWithTLS:startBlock:">-startVideoSessionWithTLS:startBlock:</a></li>
  <li><a href="#section--stopVideoSession">-stopVideoSession</a></li>
  <li><a href="#section--sendVideoData:">-sendVideoData:</a></li>
  <li><a href="#section--startAudioSessionWithStartBlock:">-startAudioSessionWithStartBlock:</a></li>
  <li><a href="#section--startAudioSessionWithTLS:startBlock:">-startAudioSessionWithTLS:startBlock:</a></li>
  <li><a href="#section--stopAudioSession">-stopAudioSession</a></li>
  <li><a href="#section--sendAudioData:">-sendAudioData:</a></li>
</ul>

<h3>Overview</h3>

<p>Undocumented</p>


<section class="section task-group-section">
  <h3 id="section-videoSessionConnected">
      videoSessionConnected
  </h3>
  
  <p>Undocumented</p>

  
  
  
  
  
  <h3 id="section-audioSessionConnected">
      audioSessionConnected
  </h3>
  
  <p>Undocumented</p>

  
  
  
  
  
  <h3 id="section-videoSessionEncrypted">
      videoSessionEncrypted
  </h3>
  
  <p>Undocumented</p>

  
  
  
  
  
  <h3 id="section-audioSessionEncrypted">
      audioSessionEncrypted
  </h3>
  
  <p>Undocumented</p>

  
  
  
  
  
  <h3 id="section-touchManager">
      touchManager
  </h3>
  
  <p>Touch Manager responsible for providing touch event notifications.</p>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">strong</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n"><a href="../Classes/SDLTouchManager.html">SDLTouchManager</a></span> <span class="o">*</span><span class="n">_Nonnull</span> <span class="n">touchManager</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="k">var</span> <span class="nv">touchManager</span><span class="p">:</span> <span class="kt"><a href="../Classes/SDLTouchManager.html">SDLTouchManager</a></span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

  
  
  
  <h3 id="section-videoEncoderSettings">
      videoEncoderSettings
  </h3>
  
  <p>The settings used in a VTCompressionSessionRef encoder. These will be verified when the video stream is started. Acceptable properties for this are located in VTCompressionProperties. If set to nil, the defaultVideoEncoderSettings will be used.</p>

<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    Video streaming must not be connected to update the encoder properties. If it is running, issue a stopVideoSession before updating.

</div>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">readwrite</span><span class="p">,</span> <span class="n">strong</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">,</span> <span class="n">null_resettable</span><span class="p">)</span>
    <span class="n">NSDictionary</span> <span class="o">*</span><span class="n">videoEncoderSettings</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="k">var</span> <span class="nv">videoEncoderSettings</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span><span class="o">!</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

  
  
  
  <h3 id="section-displayCapabilties">
      displayCapabilties
  </h3>
  
  <p>Display capabilties that will set the screenSize property. If set to nil, the SDLDefaultScreenSize will be used.</p>

<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    Video streaming must not be connected to update the encoder properties. If it is running, issue a stopVideoSession before updating.

</div>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">readwrite</span><span class="p">,</span> <span class="n">strong</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">,</span> <span class="n">null_resettable</span><span class="p">)</span>
    <span class="n"><a href="../Classes/SDLDisplayCapabilities.html">SDLDisplayCapabilities</a></span> <span class="o">*</span><span class="n">displayCapabilties</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="k">var</span> <span class="nv">displayCapabilties</span><span class="p">:</span> <span class="kt"><a href="../Classes/SDLDisplayCapabilities.html">SDLDisplayCapabilities</a></span><span class="o">!</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

  
  
  
  <h3 id="section-defaultVideoEncoderSettings">
      defaultVideoEncoderSettings
  </h3>
  
  <p>Provides default video encoder settings used.</p>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">strong</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span>
    <span class="n">NSDictionary</span> <span class="o">*</span><span class="n">_Nonnull</span> <span class="n">defaultVideoEncoderSettings</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="k">var</span> <span class="nv">defaultVideoEncoderSettings</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

  
  
  
  <h3 id="section-screenSize">
      screenSize
  </h3>
  
  <p>This is the current screen size of a connected display. This will be the size the video encoder uses to encode the raw image data.</p>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">assign</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">CGSize</span> <span class="n">screenSize</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="k">var</span> <span class="nv">screenSize</span><span class="p">:</span> <span class="kt">CGSize</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

  
  
  
  <h3 id="section-pixelBufferPool">
      pixelBufferPool
  </h3>
  
  <p>The pixel buffer pool reference returned back from an active VTCompressionSessionRef encoder.</p>

<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    This will only return a valid pixel buffer pool after the encoder has been initialized (when the video     session has started).
@discussion Clients may call this once and retain the resulting pool, this call is cheap enough that it&rsquo;s OK to call it once per frame.

</div>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">assign</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">,</span> <span class="n">nullable</span><span class="p">)</span>
    <span class="n">CVPixelBufferPoolRef</span> <span class="n">pixelBufferPool</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="kd">unowned(unsafe)</span> <span class="k">var</span> <span class="nv">pixelBufferPool</span><span class="p">:</span> <span class="kt">CVPixelBufferPool</span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

  
  
  
  <h3 id="section--initWithProtocol:">
      -initWithProtocol:
  </h3>
  
  <p>Undocumented</p>

  
  
  
  
  
  <h3 id="section--initWithProtocol:displayCapabilities:">
      -initWithProtocol:displayCapabilities:
  </h3>
  
  <p>Undocumented</p>

  
  
  
  
  
  <h3 id="section--startVideoSessionWithStartBlock:">
      -startVideoSessionWithStartBlock:
  </h3>
  
  <p>This method will attempt to start a streaming video session. It will set up iOS&rsquo;s video encoder,  and call out to the head unit asking if it will start a video session. This will not use encryption.</p>

<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    <p>If this method is called on an 8.0 device, it will assert (in debug), or return a failure immediately to your block (in release).</p>

</div>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">startVideoSessionWithStartBlock</span><span class="p">:</span>
    <span class="p">(</span><span class="n">nonnull</span> <span class="n"><a href="../Type Definitions.html#/c:SDLStreamingMediaManager.h@T@SDLStreamingStartBlock">SDLStreamingStartBlock</a></span><span class="p">)</span><span class="nv">startBlock</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="kd">func</span> <span class="nf">startVideoSession</span><span class="p">(</span><span class="n">start</span> <span class="nv">startBlock</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Type Definitions.html#/c:SDLStreamingMediaManager.h@T@SDLStreamingStartBlock">SDLStreamingStartBlock</a></span><span class="p">)</span></code></pre>

  
  
  <h4>Parameters</h4>
  <dl>
      <dt>startBlock</dt>
      <dd><p>A block that will be called with the result of attempting to start a video session</p>
</dd>
  </dl>
  
  <h3 id="section--startVideoSessionWithTLS:startBlock:">
      -startVideoSessionWithTLS:startBlock:
  </h3>
  
  <p>Start a video session either with with no encryption (the default), with authentication but no encryption (this will attempt a TLS authentication with the other side, but will not physically encrypt the data after that), or authentication and encryption, which will encrypt all video data being sent.</p>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">startVideoSessionWithTLS</span><span class="p">:(</span><span class="n"><a href="../Enums/SDLEncryptionFlag.html">SDLEncryptionFlag</a></span><span class="p">)</span><span class="nv">encryptionFlag</span>
                      <span class="nf">startBlock</span><span class="p">:</span>
                          <span class="p">(</span><span class="n">nonnull</span> <span class="n"><a href="../Type Definitions.html#/c:SDLStreamingMediaManager.h@T@SDLStreamingEncryptionStartBlock">SDLStreamingEncryptionStartBlock</a></span><span class="p">)</span><span class="nv">startBlock</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="kd">func</span> <span class="nf">startVideoSession</span><span class="p">(</span><span class="n">withTLS</span> <span class="nv">encryptionFlag</span><span class="p">:</span> <span class="kt"><a href="../Enums/SDLEncryptionFlag.html">SDLEncryptionFlag</a></span><span class="p">,</span> <span class="n">start</span> <span class="nv">startBlock</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Type Definitions.html#/c:SDLStreamingMediaManager.h@T@SDLStreamingEncryptionStartBlock">SDLStreamingEncryptionStartBlock</a></span><span class="p">)</span></code></pre>

  
  
  <h4>Parameters</h4>
  <dl>
      <dt>encryptionFlag</dt>
      <dd><p>Whether and how much security to apply to the video session.</p>
</dd>
      <dt>startBlock</dt>
      <dd><p>A block that will be called with the result of attempting to start a video session</p>
</dd>
  </dl>
  
  <h3 id="section--stopVideoSession">
      -stopVideoSession
  </h3>
  
  <p>This method will stop a running video session if there is one running.</p>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">stopVideoSession</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="kd">func</span> <span class="nf">stopVideoSession</span><span class="p">()</span></code></pre>

  
  
  
  <h3 id="section--sendVideoData:">
      -sendVideoData:
  </h3>
  
  <p>This method receives raw image data and will run iOS8+&rsquo;s hardware video encoder to turn the data into a video stream, which will then be passed to the connected head unit.</p>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">sendVideoData</span><span class="p">:(</span><span class="n">nonnull</span> <span class="n">CVImageBufferRef</span><span class="p">)</span><span class="nv">imageBuffer</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="kd">func</span> <span class="nf">sendVideoData</span><span class="p">(</span><span class="n">_</span> <span class="nv">imageBuffer</span><span class="p">:</span> <span class="kt">CVImageBuffer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

  
  
  <h4>Parameters</h4>
  <dl>
      <dt>imageBuffer</dt>
      <dd><p>A CVImageBufferRef to be encoded by Video Toolbox</p>
</dd>
  </dl>
  <div>
    <h4>Return Value</h4>
    <p>Whether or not the data was successfully encoded and sent.</p>

  </div>
  
  <h3 id="section--startAudioSessionWithStartBlock:">
      -startAudioSessionWithStartBlock:
  </h3>
  
  <p>This method will attempt to start an audio session</p>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">startAudioSessionWithStartBlock</span><span class="p">:</span>
    <span class="p">(</span><span class="n">nonnull</span> <span class="n"><a href="../Type Definitions.html#/c:SDLStreamingMediaManager.h@T@SDLStreamingStartBlock">SDLStreamingStartBlock</a></span><span class="p">)</span><span class="nv">startBlock</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="kd">func</span> <span class="nf">startAudioSession</span><span class="p">(</span><span class="n">start</span> <span class="nv">startBlock</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Type Definitions.html#/c:SDLStreamingMediaManager.h@T@SDLStreamingStartBlock">SDLStreamingStartBlock</a></span><span class="p">)</span></code></pre>

  
  
  <h4>Parameters</h4>
  <dl>
      <dt>startBlock</dt>
      <dd><p>A block that will be called with the result of attempting to start an audio session</p>
</dd>
  </dl>
  
  <h3 id="section--startAudioSessionWithTLS:startBlock:">
      -startAudioSessionWithTLS:startBlock:
  </h3>
  
  <p>Undocumented</p>

  
  
  
  
  
  <h3 id="section--stopAudioSession">
      -stopAudioSession
  </h3>
  
  <p>This method will stop a running audio session if there is one running.</p>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">stopAudioSession</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="kd">func</span> <span class="nf">stopAudioSession</span><span class="p">()</span></code></pre>

  
  
  
  <h3 id="section--sendAudioData:">
      -sendAudioData:
  </h3>
  
  <p>This method receives PCM audio data and will attempt to send that data across to the head unit for immediate playback</p>

  
  
  <h4>Objective-C</h4>
  <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">sendAudioData</span><span class="p">:(</span><span class="n">nonnull</span> <span class="n">NSData</span> <span class="o">*</span><span class="p">)</span><span class="nv">pcmAudioData</span><span class="p">;</span></code></pre>

  
  <h4>Swift</h4>
  <pre class="highlight"><code><span class="kd">func</span> <span class="nf">sendAudioData</span><span class="p">(</span><span class="n">_</span> <span class="nv">pcmAudioData</span><span class="p">:</span> <span class="kt">Data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

  
  
  <h4>Parameters</h4>
  <dl>
      <dt>pcmAudioData</dt>
      <dd><p>The data in PCM audio format, to be played</p>
</dd>
  </dl>
  <div>
    <h4>Return Value</h4>
    <p>Whether or not the data was successfully sent.</p>

  </div>
  
</section>
